<!doctype html><html lang=zh-CN data-theme=light><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=文档与部署指南（支持代码高亮与一键复制）。><title>文档 · Foam</title><link rel=icon href=./assets/img/favicon.svg type=image/svg+xml><link rel=stylesheet href=./assets/css/styles.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css></head><body><header class=site-header><div class="container header-inner"><a class=brand href=./index.html aria-label=返回首页><img class=brand-logo src=./assets/img/foam.png alt="Foam Logo"> <span class=brand-name>Foam</span> </a><button class=nav-toggle aria-label=打开菜单 aria-expanded=false><span></span><span></span><span></span></button><nav class=site-nav aria-label=主导航><a href=./index.html#features>功能</a> <a href=./index.html#get-started>开始使用</a> <a href=./docs.html aria-current=page>文档</a> <a class=nav-github-mobile href=https://t.me/FoamHub target=_blank rel=noreferrer style=display:inline-flex;align-items:center;gap:4px>交流群组 <svg width=12 height=12 viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1=10 y1=14 x2=21 y2=3></line></svg> </a><a class=nav-github-mobile href=https://github.com/ciweigg2/foam-introduction target=_blank rel=noreferrer style=display:inline-flex;align-items:center;gap:4px>GitHub <svg width=12 height=12 viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1=10 y1=14 x2=21 y2=3></line></svg> </a><a class=nav-cta href=./index.html#download>下载</a> <button class=theme-toggle type=button aria-label=切换主题><span class=theme-icon aria-hidden=true>☾</span></button></nav></div></header><main class=docs id=top><section class="section docs-hero"><div class="container docs-hero-inner"><div><p class=kicker>文档 / 部署</p><h1>部署指南</h1><p class=subhead>这是 Foam Emby 管理系统的部署教程，提供一键部署脚本和手动部署两种方式。本页包含：目录、代码块高亮、复制按钮、配置说明。</p></div><div class=docs-hero-card><div class=docs-meta><div class=meta-item><div class=meta-k>推荐部署</div><div class=meta-v>一键脚本</div></div><div class=meta-item><div class=meta-k>运行环境</div><div class=meta-v>Docker</div></div><div class=meta-item><div class=meta-k>访问端口</div><div class=meta-v>8081</div></div></div><a class="btn primary" href=#deploy-script>快速开始</a></div></div></section><section class=section><div class="container docs-layout"><aside class=docs-toc aria-label=目录><div class=toc-title>目录</div><nav class=toc-links><a href=#deploy-script>一键部署 (推荐)</a> <a href=#deploy-manual>手动部署</a> <a href=#troubleshooting>疑难解惑</a></nav></aside><article class=docs-content><section id=deploy-script class=docs-section><h2>一键部署脚本（推荐）</h2><p>使用交互式脚本快速生成 <code>docker-compose.yml</code> 配置文件，无需手动编辑配置。</p><h3>方式一：直接运行远程脚本</h3><div class=code-card><div class=code-head><span class=code-title>Terminal</span> <button class=copy-btn data-copy-target=#code-script-1>复制</button></div><pre class=code-body><code id=code-script-1 class=language-bash># 创建部署目录并进入
mkdir -p foam && cd foam

# 下载并运行脚本
curl -fsSL https://raw.githubusercontent.com/ciweigg2/foam-introduction/main/sh/foam-setup.sh | bash</code></pre></div><h3>方式二：下载后运行</h3><div class=code-card><div class=code-head><span class=code-title>Terminal</span> <button class=copy-btn data-copy-target=#code-script-2>复制</button></div><pre class=code-body><code id=code-script-2 class=language-bash># 创建部署目录并进入
mkdir -p foam && cd foam

# 下载脚本
curl -fsSL -o foam-setup.sh https://raw.githubusercontent.com/ciweigg2/foam-introduction/main/sh/foam-setup.sh

# 添加执行权限
chmod +x foam-setup.sh

# 运行脚本
./foam-setup.sh</code></pre></div><h3>服务管理命令</h3><p>脚本会自动在当前目录生成 <code>docker-compose.yml</code> 文件，并创建所需的数据目录。</p><div class=code-card><div class=code-head><span class=code-title>Docker Commands</span> <button class=copy-btn data-copy-target=#code-manage>复制</button></div><pre class=code-body><code id=code-manage class=language-bash># 启动服务
docker compose up -d

# 查看日志
docker compose logs -f --tail=200

# 停止服务
docker compose stop

# 重启服务
docker compose restart

# 删除服务（保留数据）
docker compose down</code></pre></div><div class="admonition tip"><strong>访问地址：</strong>默认端口为 <code>8081</code>，访问 <code>http://localhost:8081</code>（或你配置的 IP:端口）。</div></section><section id=deploy-manual class=docs-section><h2>手动部署</h2><p>不建议没基础的用户使用。以下是 <code>docker-compose.yml</code> 配置示例。</p><div class=code-card><div class=code-head><span class=code-title>docker-compose.yml</span> <button class=copy-btn data-copy-target=#code-manual>复制</button></div><pre class=code-body><code id=code-manual class=language-yaml>version: '3'
services:
  foam-api:
    image: ciwei123321/foam-api:latest
    privileged: true
    ports:
      - "8080:8080"
    volumes:
      - ./data:/data
      - /etc/hosts:/etc/hosts
    container_name: foam-api
    restart: always
    environment:
      # db:3306 使用的是容器内部的端口 不是映射完的端口
      - SPRING_DATASOURCE_URL=jdbc:mysql://db:3306/foam-api?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true
      - SPRING_DATASOURCE_USERNAME=root
      - SPRING_DATASOURCE_PASSWORD=78FRC#5BqnOk0ppk
      # 需要配置tmdb接口hosts
      - TMDB_APITOKEN=tmdb api token
      - TMDB_APIKEY=tmdb api key
      - TMDB_IMAGE_URL=https://image.tmdb.org/t/p/original
      - TZ=Asia/Shanghai
      # 代理地址
      - HTTP_PROXY_ENABLED=false
      - HTTP_PROXY=http://ip:port
      - HTTPS_PROXY=http://ip:port
      - NO_PROXY=172.17.0.1,127.0.0.1,localhost,foam-api-search,selenium-chrome
      # lisence配置文件
      - LICENSE_FILE=/data/license.dat
      # 搜索接口地址 pansou地址
      - EMBY_HUB_SEARCH_URL=
      # 上传头像访问地址 也就是8080端口 需要外网能访问的ip
      - AVATARS_BASE_URL=http://localhost:8080
      - SELENIUM_REMOTE_URL=http://selenium-chrome:4444/wd/hub
    networks:
      - foam-network
    links:
      - db
      - selenium-chrome
    depends_on:
      - db
      - selenium-chrome

  db:
    image: mysql:8.4.6
    container_name: mysql_container
    environment:
      MYSQL_ROOT_PASSWORD: 78FRC#5BqnOk0ppk
      MYSQL_DATABASE: foam-api
      TZ: "Asia/Shanghai"
      LANG: en_US.UTF-8
    command:
      - mysqld
      - --character-set-server=utf8mb4
      - --collation-server=utf8mb4_unicode_ci
      - --group_concat_max_len=102400
    ports:
      - "3306:3306"
    volumes:
      - ./mysql-data:/var/lib/mysql
    restart: always
    networks:
      - foam-network

  foam:
    image: ciwei123321/foam:latest
    container_name: foam
    restart: always
    ports:
      - "8081:80"
    environment:
      API_BASE_URL: "http://foam-api:8080"
      TZ: Asia/Shanghai
      IMAGE_URL: https://image.tmdb.org/t/p/
    networks:
      - foam-network
    links:
      - foam-api
    depends_on:
      - foam-api
        
  selenium-chrome:
    image: selenium/standalone-chrome:latest
    platform: linux/amd64
    shm_size: "2gb"
    environment:
      - SE_NODE_MAX_SESSIONS=4
    networks:
      - foam-network

networks:
  foam-network:</code></pre></div></section><section id=troubleshooting class=docs-section><h2>疑难解惑</h2><p>在使用过程中遇到问题？这里汇总了一些常见情况的解决方案。</p><details class=faq><summary>脚本运行报错怎么办？</summary><div class=faq-body>请确保你的服务器安装了 <code>curl</code> 和 <code>bash</code>，并且网络连接正常（特别是连接 GitHub）。如果下载失败，尝试使用手动部署或配置代理。</div></details><details class=faq><summary>服务启动失败如何排查？</summary><div class=faq-body>使用 <code>docker compose logs -f</code> 查看详细日志信息，通常会有具体的错误提示，根据提示信息进行修复。</div></details><details class=faq><summary>启动未弹出注册？</summary><div class=faq-body>部署问题，或者容器无法连接网络，请检查网络设置。</div></details><details class=faq><summary>需要授权吗？</summary><div class=faq-body>免费版不需要授权</div></details><details class=faq><summary>脚本哪些参数需要改？</summary><div class=faq-body>只需要改TMDB和代理配置，其他配置根据环境自行修改</div></details><div class="admonition note"><strong>获取帮助：</strong> 如果问题仍未解决，欢迎提交 GitHub Issue 或加入社区讨论。</div></section></article></div></section></main><footer class=site-footer><div class="container footer-bottom"><span class=muted>Copyright © 2025-2026 Ciwei ❤️ Volcano 合作开发</span></div></footer><div class=floating-actions><a href=./index.html class="floating-btn home-btn" aria-label=返回首页><svg width=24 height=24 viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg> </a><button id=backToTop class="floating-btn back-to-top" aria-label=返回顶部><svg width=24 height=24 viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><polyline points="18 15 12 9 6 15"></polyline></svg></button></div><script src=./assets/js/main.js></script><script src=https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/highlight.min.js></script><script>window.hljs&&hljs.highlightAll()</script><script src=./assets/js/docs.js></script></body></html>